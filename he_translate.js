// Honda FR-V ESM Hebrew Translation v2
var ESM_HE = {
  tree: {"General Information":"מידע כללי","Specifications":"מפרטים","Standards and Service Limits":"תקנים וגבולות שירות","Maintenance Schedule":"לוח זמנים לתחזוקה","Maintenance":"תחזוקה","Lubricants and Fluids":"שמנים ונוזלים","Design Specification":"מפרט תכנון","Body Dimentions":"מידות מרכב","Engine":"מנוע","Charging System":"מערכת טעינה","Cooling System":"מערכת קירור","Fan Controls":"בקרת מאווררים","Cruise Control System":"מערכת שיוט","Cylinder Head Assembly":"מכלול ראש מנוע","Camshaft":"גל זיזים","Rocker Arm Assembly":"מכלול זרועות שסתום","Timing Belt":"רצועת תזמון","Timing/Cam Chain":"שרשרת תזמון/זיזים","Valves":"שסתומים","VTEC System":"מערכת VTEC","VTEC/VTC SYSTEM":"מערכת VTEC/VTC","Engine Assembly and Mounts":"מנוע ותושבות","Engine Assembly":"מכלול מנוע","Engine Mounts":"תושבות מנוע","Engine Block Assembly":"מכלול גוש מנוע","Connecting Rods":"זרועות קנס","Crankshaft":"גל ארכובה","Pistons":"בוכנות","Exhaust System":"מערכת פליטה","Ignition System":"מערכת הצתה","Lubrication System":"מערכת סיכה","Starting System":"מערכת התנעה","Catalytic Converter System":"מערכת ממיר קטליטי","Turbocharger System":"מערכת טורבו","Fuel and Emissions":"דלק ופליטה","EVAP Control System":"מערכת בקרת אידוי","EGR System":"מערכת EGR","Fuel Supply System":"מערכת אספקת דלק","Fuel Injection System (PGM-FI)":"מערכת הזרקת דלק (PGM-FI)","Idle Control System":"מערכת בקרת סרק","Intake Air System":"מערכת כניסת אוויר","PCV System":"מערכת PCV","Electronic Throttle Control System":"בקרת מצערת אלקטרונית","Diesel Engine Management System":"ניהול מנוע דיזל","Diesel Particulate Filter (DPF) System":"מסנן חלקיקי דיזל (DPF)","Glow Control System":"מערכת נרות ליבון","Trans/Driveline":"תיבת הילוכים/הנעה","Driveshafts":"גלי הנעה","Front Driveshaft Assembly":"גל הנעה קדמי","Intermediate Shaft Assembly":"גל ביניים","Manual Transaxle":"תיבה ידנית","Clutch":"מצמד","M/T Assembly":"מכלול תיבה ידנית","M/T Mainshaft Assembly":"גל ראשי - ידנית","M/T Countershaft Assembly":"גל משני - ידנית","M/T Differential":"דיפרנציאל - ידנית","M/T Gearshift Mechanism":"מנגנון הילוכים - ידנית","M/T Reverse Idler Gear Shaft Assembly":"גל ריוורס - ידנית","M/T Reverse Lockout System":"נעילת ריוורס","Synchro Assemblies":"מכלולי סינכרו","Automatic Transaxle":"תיבה אוטומטית","A/T Assembly":"מכלול תיבה אוטומטית","A/T Mainshaft Assembly":"גל ראשי - אוטומטית","A/T Countershaft Assembly":"גל משני - אוטומטית","A/T Secondary Shaft Assembly":"גל שניוני - אוטומטית","A/T Idler Gear Shaft Assembly":"גל סרק - אוטומטית","A/T Differential":"דיפרנציאל - אוטומטית","A/T Electronic Control System":"בקרה אלקטרונית - אוטומטית","A/T Gear Position Indicator System":"חיווי הילוך - אוטומטית","A/T Gearshift Mechanism":"מנגנון הילוכים - אוטומטית","A/T Hydraulic Controls":"בקרה הידראולית - אוטומטית","Torque Converter":"ממיר מומנט","Valve Bodies":"גוף שסתומים","Interlock System":"מערכת נעילה","Steering":"היגוי","Suspension":"מתלים","Front Suspension":"מתלה קדמי","Rear Suspension":"מתלה אחורי","Subframes":"שלדות משנה","Wheels and Tires":"גלגלים וצמיגים","Brakes":"בלמים","Conventional Brake Components":"רכיבי בלם קונבנציונלי","Parking Brake":"בלם חנייה","Brake System indicator Components":"חיווי מערכת בלמים","VSA System (includes ABS, TCS)":"מערכת VSA (כולל ABS, TCS)","VSA Control Unit":"יחידת בקרה VSA","ABS Control Unit":"יחידת בקרה ABS","ABS-TCS Components":"רכיבי ABS-TCS","DTC Troubleshooting":"איתור תקלות DTC","HVAC":"מיזוג וחימום","A/C":"מזגן","A/C Compressor":"מדחס מזגן","A/C Condenser":"קונדנסר מזגן","Automatic Climate Control":"בקרת אקלים אוטומטית","Climate Control Unit":"יחידת בקרת אקלים","Blower Unit":"יחידת מפוח","Evaporator-Heater Unit":"יחידת מאייד-מחמם","Heating/Ventilation":"חימום/אוורור","Body":"מרכב","Exterior":"חיצוני","Interior":"פנימי","Doors":"דלתות","Front Doors":"דלתות קדמיות","Rear Doors":"דלתות אחוריות","Hood":"מכסה מנוע","Tailgate":"דלת תא מטען","Bumpers":"פגושים","Fenders":"כנפיים","Dashboard":"לוח מחוונים","Frame":"שלדה","Trim":"ריפוד/חיפוי","Fuel Fill Door":"פתח מילוי דלק","Mirrors":"מראות","Windows":"חלונות","Power Windows":"חלונות חשמליים","Moonroof/Sunroof":"גג שמש","Rear Window Defogger":"חימום חלון אחורי","Seats":"מושבים","Front Seats":"מושבים קדמיים","Rear Seat":"מושב אחורי","Seat Belts":"חגורות בטיחות","Seat Heaters":"חימום מושבים","Lights, Exterior":"תאורה חיצונית","Lights, Interior":"תאורה פנימית","Headlights":"פנסים קדמיים","Headlights Adjuster":"כוונון פנסים","Headlight Leveling System":"מערכת פילוס פנסים","Taillights":"פנסים אחוריים","Brake Lights":"אורות בלימה","Turn Signal/Hazard Warning Lights":"איתות/אורות חירום","Front Fog Lights":"פנסי ערפל קדמיים","Rear Fog Lights":"פנסי ערפל אחוריים","Back-up Lights":"אורות ריוורס","Lights-on Reminder":"תזכורת אורות","Ceiling Light Components":"תאורת תקרה","Entry Light Control System":"תאורת כניסה","Gauges":"מחוגים","Indicators":"מחוונים","Speedometer Components":"רכיבי מד מהירות","Coolant Temperature Gauge Components":"מד חום מנוע","Low Engine Oil Pressure Indicator Components":"חיווי לחץ שמן נמוך","Multi-information Display":"צג מידע","Audio/Entertainment":"שמע/בידור","Audio Components":"רכיבי שמע","Speakers":"רמקולים","Antenna":"אנטנה","Navigation/TV":"ניווט/טלוויזיה","Security/Keyless Entry/Locks":"אבטחה/מנעולים","Keyless Entry/Security Alarm System":"כניסה ללא מפתח/אזעקה","Immobilizer System":"אימובילייזר","SRS":"כריות אוויר (SRS)","SRS Unit":"יחידת SRS","Driving Support &amp; Restraints":"תמיכה בנהיגה וריסון","Horns":"צופרים","Wiper/Washer":"מגבים/מתיזים","Cigarette Lighter":"מצית","Accessory Power Sockets":"שקעי חשמל","Integrated Control System":"בקרה משולבת","ECM":"מחשב מנוע (ECM)","PCM":"מחשב הנעה (PCM)","Wiring System":"מערכת חיווט","Wiring Diagrams":"תרשימי חיווט","Wire Harnesses":"ערכות חיווט","Fuse/Relay Boxes":"נתיכים/ממסרים","Power Distribution":"חלוקת חשמל","Ground Distribution":"חלוקת הארקה","Body Dimensional Drawings":"שרטוטי מידות מרכב","Paint Information":"מידע צביעה","Rust Prevention":"מניעת חלודה","Driving Support & Restraints":"תמיכה בנהיגה וריסון","Body Dimensional Drawings":"שרטוטי מידות מרכב"},
  ui: {"Model":"דגם","Model Year":"שנת דגם","Model Code":"קוד דגם","Individual Search":"חיפוש פרטני","Shop Manual":"מדריך שירות","Body Repair Manual":"מדריך תיקון מרכב","System/Component Selection":"בחירת מערכת/רכיב","Keyword Input":"חיפוש מילת מפתח","Language Selection":"בחירת שפה","Shop Manual Search Result":"תוצאות חיפוש","Title":"כותרת","There is no Shop Manual to apply":"אין תוצאות"},
  artKeywords: {"Removal and Installation":"פירוק והתקנה","Removal/Installation":"פירוק/התקנה","Check and Adjustment":"בדיקה וכוונון","Symptom Troubleshooting":"איתור תקלות לפי סימפטום","Circuit Troubleshooting":"איתור תקלות במעגל","Component Location Index":"מיקום רכיבים","Circuit Diagram":"תרשים מעגל","Wiring Diagram Index":"אינדקס תרשימי חיווט","Wiring Diagram":"תרשים חיווט","Service Precautions":"אזהרות שירות","Air Bleeding":"שחרור אוויר","does not come on":"לא נדלק","does not work":"לא עובד","does not go off":"לא נכבה","stays on":"נשאר דלוק","comes on":"נדלק","Troubleshooting":"איתור תקלות","Replacement":"החלפה","Removal":"פירוק","Installation":"התקנה","Inspection":"בדיקה","Adjustment":"כוונון","Description":"תיאור","Overhaul":"שיפוץ","Bleeding":"שחרור אוויר","Break-in":"הרצה","Test":"בדיקה","Check":"בדיקה","Connectors":"מחברים","Repair":"תיקון","Disposal":"סילוק"}
};

var esmLangHe = false;
var _artKeys = Object.keys(ESM_HE.artKeywords).sort(function(a,b){return b.length-a.length;});

function esmTranslateTitle(title) {
  if (!esmLangHe) return title;
  // Only exact full-title matches (tree categories)
  if (ESM_HE.tree[title]) return ESM_HE.tree[title];
  return title;
}

function esmToggleHebrew() {
  esmLangHe = !esmLangHe;
  try { localStorage.setItem('esm_lang_he', esmLangHe ? '1' : '0'); } catch(e) {}
  document.getElementById('heBtn').textContent = esmLangHe ? 'EN' : 'עברית';
  esmTranslateAll();
}

function esmTranslateAll() { esmTranslateNav(); esmTranslateTree(); esmTranslateArticles(); }

function _trEl(el, dict) {
  var orig = el.getAttribute('data-orig') || el.textContent.trim();
  if (!orig) return;
  if (!el.getAttribute('data-orig')) el.setAttribute('data-orig', orig);
  if (esmLangHe && dict[orig]) { el.textContent = dict[orig]; el.style.direction = 'rtl'; }
  else if (!esmLangHe && el.getAttribute('data-orig')) { el.textContent = el.getAttribute('data-orig'); el.style.direction = ''; }
}

function esmTranslateNav() {
  try {
    var d = document.getElementById('F11').contentDocument; if (!d) return;
    var els = d.querySelectorAll('.Label'); for (var i=0;i<els.length;i++) _trEl(els[i], ESM_HE.ui);
    var labs = d.querySelectorAll('label'); for (var i=0;i<labs.length;i++) _trEl(labs[i], ESM_HE.ui);
  } catch(e) {}
}

// Tree spans have id="T0", "T1", etc.
function esmTranslateTree() {
  try {
    var d = document.getElementById('F11').contentDocument; if (!d) return;
    var tf = d.getElementById('iframeTree'); if (!tf || !tf.contentDocument) return;
    var td = tf.contentDocument;
    var spans = td.querySelectorAll('span[id]');
    for (var i=0;i<spans.length;i++) {
      if (/^T\d+$/.test(spans[i].id)) _trEl(spans[i], ESM_HE.tree);
    }
  } catch(e) {}
}

// Article links in F12 are <a style="font-size:small;">Title</a>
function esmTranslateArticles() {
  try {
    var d = document.getElementById('F12').contentDocument; if (!d) return;
    var links = d.querySelectorAll('a');
    for (var i=0;i<links.length;i++) {
      var el = links[i];
      var orig = el.getAttribute('data-orig') || el.textContent.trim();
      if (!orig || orig.length < 2) continue;
      if (!el.getAttribute('data-orig')) el.setAttribute('data-orig', orig);
      if (esmLangHe) { el.textContent = esmTranslateTitle(orig); el.style.direction = 'rtl'; el.style.unicodeBidi = 'plaintext'; }
      else { el.textContent = orig; el.style.direction = ''; el.style.unicodeBidi = ''; }
    }
    var bolds = d.querySelectorAll('b,.SubTitle b'); for (var i=0;i<bolds.length;i++) _trEl(bolds[i], ESM_HE.ui);
    var tds = d.querySelectorAll('td[align="center"]'); for (var i=0;i<tds.length;i++) _trEl(tds[i], ESM_HE.ui);
  } catch(e) {}
}

function esmWatchFrames() {
  var f11 = document.getElementById('F11');
  if (f11) {
    f11.addEventListener('load', function() {
      if (esmLangHe) setTimeout(esmTranslateNav, 200);
      try {
        var nd = f11.contentDocument;
        var tf = nd.getElementById('iframeTree');
        if (tf) tf.addEventListener('load', function() { if (esmLangHe) setTimeout(esmTranslateTree, 200); });
        new MutationObserver(function() {
          var t = nd.getElementById('iframeTree');
          if (t) { t.addEventListener('load', function() { if (esmLangHe) setTimeout(esmTranslateTree, 200); }); if (esmLangHe) setTimeout(esmTranslateTree, 300); }
        }).observe(nd.body, {childList:true, subtree:true});
      } catch(e) {}
    });
  }
  var f12 = document.getElementById('F12');
  if (f12) f12.addEventListener('load', function() { if (esmLangHe) setTimeout(esmTranslateArticles, 200); });
}

(function() {
  try { if (localStorage.getItem('esm_lang_he')==='1') esmLangHe = true; } catch(e) {}
  window.addEventListener('load', function() {
    esmWatchFrames();
    if (esmLangHe) {
      document.getElementById('heBtn').textContent = 'EN';
      setTimeout(esmTranslateAll, 1000);
      setTimeout(esmTranslateAll, 2500);
      setTimeout(esmTranslateAll, 5000);
    }
  });
})();
